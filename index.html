<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notes App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="images/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
        integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />


</head>
<style>
    .signupdropdown:hover {
        /* background: red; */
        border: 1px solid white;
    }

    .dropdown-contentsignup {
        display: none;
        z-index: 1;
        position: absolute;
        background-color: #212529 !important;
        width: 180px;
        margin: 0;
        margin-top: 2px;
    }

    .dropdown-contentsignup a {
        color: white;
        padding: 5px 12px;
        display: block;
        text-decoration: none;
    }

    .dropdown-contentsignup a:hover {
        text-decoration: underline;
    }

    .signupdropdown:hover .dropdown-contentsignup {
        display: block;
    }

    .loc-icon {
        animation: locanim 3s infinite;
    }

    @keyframes locanim {
        from {
            transform: rotate(0deg);
        }

        to {
            transform: rotateY(360deg);
        }
    }
</style>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">MyNotes</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" href="Login.html">Login</a>
                    </li>
                    <li class="nav-item">
                        <div class="signupdropdown">
                            <a id="dropbtnsignup" class="nav-link active">Sign-Up
                                <i class="fa fa-caret-down"></i>
                            </a>
                            <div class="dropdown-contentsignup">
                                <a href="SignUpSocialMedia/signup_social_media.html">Using Social Media Account</a>
                                <a href="SignUp.html">Create a new Account</a>
                            </div>
                        </div>
                    </li>
                </ul>
                <form class="d-flex" id="search_bar_id">
                    <!-- <a class="nav-link active"><i class="fas fa-map-marker-alt loc-icon" style="color: white;"></i></a> -->
                    <!-- <a class="nav-link active" style="color: white; ">Hello</a> -->
                    <input class="form-control me-2" id="searchtxt" type="search" placeholder="Search"
                        aria-label="Search">

                </form>
            </div>
        </div>
    </nav>
    <div class="container my-3">
        <h3>Welcome to MyNotes App</h3>
        <div class="card">
            <div class=" card-body">
                <h6 class="card-title">Add a Title</h6>
                <div class="mb-3">
                    <textarea class="form-control" id="addTitleTxt" rows="2"></textarea>
                </div>

                <h6 class="card-title">Add a Note</h6>
                <div class="mb-3">
                    <textarea class="form-control" id="addTxt" rows="2"></textarea>
                </div>
                <button href="#" class="btn btn-primary" id="addBtn">Add to Notes</button>
            </div>
        </div>
        <hr>
        <h3>Your Notes</h3>
        <hr>
        <div class="row container-fluid" id="notes"></div>
        <p style="color: rgb(5, 9, 255); font-size: 20px; margin-top: 30px;">Official Location</p>
        <p><iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d218.92782993422668!2d77.30382482820424!3d28.604418049330548!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390ce49420ff3eab%3A0x832a999a31a1718b!2sSwati%20Medical%20Store!5e0!3m2!1sen!2sin!4v1628861526721!5m2!1sen!2sin"
                width="50%" height="50%" style="border:0;" allowfullscreen="" loading="lazy"></iframe></p>


</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>
<script>

    function Locaticon() {
        let search_bar_id = document.getElementById('search_bar_id')
        search_bar_id.innerHTML = ` <form class="d-flex" id="search_bar_id">
                    <a class="nav-link active"><i class="fas fa-map-marker-alt loc-icon" style="color: white;"></i></a>
                    <input class="form-control me-2" id="searchtxt" type="search" placeholder="Search" aria-label="Search">
                    <!-- <button class="btn btn-outline-success" type="submit">Search</button> -->
                </form>`
    }



    const apiKey = "f41b2c9cf49b4235b4d73520ae911ab7"
    const successCallBack = (position) => {
        console.log(position)

        let { latitude, longitude } = position.coords;
        console.log(latitude, longitude)
        // https://api.opencagedata.com/geocode/v1/json?q=${latitude}+${longitude}&key=${apiKey}
        fetch(`https://api.opencagedata.com/geocode/v1/json?q=${latitude}+${longitude}&key=${apiKey}`)
            .then(response => response.json()).then(result => {
                console.log(result)
                let allDetails = result.results[0].components;
                let { county, postcode, country } = allDetails;
                console.log(county, postcode, country)
                console.log(result.results[0].components.city, result.results[0].components.country)

                function showLocation() {
                    let search_bar_id = document.getElementById('search_bar_id')
                    search_bar_id.innerHTML = ` <form class="d-flex" id="search_bar_id">
            <a class="nav-link active" style="color: white; ">${result.results[0].components.city}</a>
                    <input class="form-control me-2" id="searchtxt" type="search" placeholder="Search" aria-label="Search">
                    <!-- <button class="btn btn-outline-success" type="submit">Search</button> -->
                </form>`
                }
                setTimeout(showLocation, 2000);
            })
        Locaticon();
    }
    const errorCallBack = (error) => {
        console.log(error)

    }

    setTimeout(() => {
        navigator.geolocation.getCurrentPosition(successCallBack, errorCallBack)
    }, 3000);




</script>
<script src="js/app.js"></script>

</html>
